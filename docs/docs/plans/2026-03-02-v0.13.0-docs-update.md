# IronClaw Docs v0.13.0 Update Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Update all ironclaw-docs files to accurately reflect the v0.13.0 release, covering 10 new features and 15 bug fixes against verified source code.

**Architecture:** Parallel source-code audit of each doc domain, then targeted updates to each file, validated against actual Rust source. No speculation — every claim must be traceable to a PR/file.

**Tech Stack:** Rust (~/src/ironclaw), Markdown docs (~/src/ironclaw-docs), GitHub releases

---

## Delta: v0.12.0 → v0.13.0

### New Features (require new/updated docs)
| PR | Feature | Affected Doc(s) |
|----|---------|----------------|
| #435 | `web_fetch` built-in tool | ARCHITECTURE.md, analysis/tools.md |
| #438 | `ironclaw tool setup` command + GitHub schema | DEVELOPER-REFERENCE.md, analysis/tools.md |
| #436 | DB-backed Jobs tab + scheduler-dispatched local jobs | ARCHITECTURE.md, analysis/worker-orchestrator.md |
| #437 | OAuth setup UI for WASM tools + display names | BUILDING_CHANNELS.md, analysis/skills-extensions.md |
| #399 | Auto-detect libsql when ironclaw.db exists | INSTALLATION.md |
| #404 | Slash command autocomplete + /status /list | AGENT_README.md, README.md |
| #398 | Routines: notify all installed channels | ARCHITECTURE.md, analysis/worker-orchestrator.md |
| #382 | Persist tool calls, restore approvals on thread switch | ARCHITECTURE.md |
| #397 | IRONCLAW_BASE_DIR env var | INSTALLATION.md, DEVELOPER-REFERENCE.md |
| #375 | Signal: attachment upload + message tool | SIGNAL_SETUP.md |

### Bug Fixes (may require doc corrections)
| PR | Fix | Affected Doc(s) |
|----|-----|----------------|
| #446 | Cloudflare tunnel pre-validation | INSTALLATION.md |
| #427 | TLS support for PostgreSQL | INSTALLATION.md |
| #431 | Secret names normalized to lowercase | analysis/secrets-keychain.md |
| #434 | Telegram: no restart button, validate token on setup | TELEGRAM_SETUP.md |
| #423 | PostgreSQL version/pgvector validation before migrations | INSTALLATION.md |
| #424 | Check cloudflared binary + validate tunnel token | INSTALLATION.md |
| #426 | Model name persisted to .env for dotted names | LLM_PROVIDERS.md |
| #372 | Discord Ed25519 signature verification fixed | BUILDING_CHANNELS.md |
| #432 | Channel activation state persists across restarts | ARCHITECTURE.md |

### Other Changes
| PR | Change | Affected Doc(s) |
|----|--------|----------------|
| #371 | `--help` improved with about/examples/color | AGENT_README.md |
| #353 | Automated QA: schema validator, CI matrix | DEVELOPER-REFERENCE.md |
| #445 | WasmBuildable::repo_url → source_dir | BUILDING_CHANNELS.md |

---

## Task 1: Audit README.md and AGENT_README.md

**Files:**
- Read: `~/src/ironclaw-docs/README.md`
- Read: `~/src/ironclaw-docs/AGENT_README.md`
- Read source: `~/src/ironclaw/src/main.rs`, `~/src/ironclaw/src/cli/mod.rs`

**Step 1:** Verify version numbers in README.md header → update to v0.13.0

**Step 2:** Verify slash commands list — add `/status` and `/list` from PR #404

**Step 3:** Verify `--help` output description matches PR #371 improvements

**Step 4:** Check quick-start installation steps still accurate

**Step 5:** Commit
```bash
git add README.md AGENT_README.md
git commit -m "docs: update README and AGENT_README to v0.13.0"
```

---

## Task 2: Audit INSTALLATION.md

**Files:**
- Read: `~/src/ironclaw-docs/INSTALLATION.md`
- Read source: `~/src/ironclaw/src/bootstrap.rs`, `~/src/ironclaw/src/config/database.rs`, `~/src/ironclaw/src/db/tls.rs`, `~/src/ironclaw/src/tunnel/`

**Step 1:** Add `IRONCLAW_BASE_DIR` env var documentation (PR #397)

**Step 2:** Add note about auto-detect libsql when `ironclaw.db` exists (PR #399)

**Step 3:** Add TLS support for PostgreSQL connections (PR #427)

**Step 4:** Update PostgreSQL setup — add validation of version/pgvector before migrations (PR #423)

**Step 5:** Update Cloudflare tunnel section — binary check + token pre-validation (PR #424, #446)

**Step 6:** Update tailscale section — use `tailscale funnel --bg` (PR #430)

**Step 7:** Commit
```bash
git add INSTALLATION.md
git commit -m "docs: update INSTALLATION.md for v0.13.0 fixes and IRONCLAW_BASE_DIR"
```

---

## Task 3: Audit SIGNAL_SETUP.md

**Files:**
- Read: `~/src/ironclaw-docs/SIGNAL_SETUP.md`
- Read source: `~/src/ironclaw/src/channels/signal.rs`

**Step 1:** Verify signal-cli HTTP daemon setup steps still accurate

**Step 2:** Add Signal attachment upload feature (PR #375)

**Step 3:** Add Signal message tool description (PR #375)

**Step 4:** Commit
```bash
git add SIGNAL_SETUP.md
git commit -m "docs: update SIGNAL_SETUP.md with attachment upload and message tool"
```

---

## Task 4: Audit TELEGRAM_SETUP.md

**Files:**
- Read: `~/src/ironclaw-docs/TELEGRAM_SETUP.md`
- Read source: relevant Telegram channel code

**Step 1:** Verify setup steps against current source

**Step 2:** Remove any mention of restart button (PR #434)

**Step 3:** Add note about token validation during setup (PR #434)

**Step 4:** Commit
```bash
git add TELEGRAM_SETUP.md
git commit -m "docs: update TELEGRAM_SETUP.md — no restart button, token validation on setup"
```

---

## Task 5: Audit ARCHITECTURE.md

**Files:**
- Read: `~/src/ironclaw-docs/ARCHITECTURE.md`
- Read source: `~/src/ironclaw/src/tools/`, `~/src/ironclaw/src/agent/scheduler.rs`, `~/src/ironclaw/src/agent/routine.rs`

**Step 1:** Add `web_fetch` to built-in tools section (PR #435)

**Step 2:** Update routines section — now deliver to all installed channels (PR #398)

**Step 3:** Update Jobs section — DB-backed, scheduler-dispatched (PR #436)

**Step 4:** Add channel activation persistence note (PR #432)

**Step 5:** Commit
```bash
git add ARCHITECTURE.md
git commit -m "docs: update ARCHITECTURE.md — web_fetch, routines, DB jobs"
```

---

## Task 6: Audit BUILDING_CHANNELS.md

**Files:**
- Read: `~/src/ironclaw-docs/BUILDING_CHANNELS.md`
- Read source: `~/src/ironclaw/src/extensions/`, `~/src/ironclaw/src/channels/`

**Step 1:** Update WasmBuildable API — `repo_url` → `source_dir` (PR #445)

**Step 2:** Add OAuth setup UI section for WASM tools (PR #437)

**Step 3:** Add display name labels for extensions (PR #437)

**Step 4:** Note host-based credential injection to WASM wrapper (PR #421)

**Step 5:** Fix Discord Ed25519 verification and capabilities header alias documentation (PR #372)

**Step 6:** Commit
```bash
git add BUILDING_CHANNELS.md
git commit -m "docs: update BUILDING_CHANNELS.md — OAuth UI, source_dir rename, Discord fix"
```

---

## Task 7: Audit LLM_PROVIDERS.md

**Files:**
- Read: `~/src/ironclaw-docs/LLM_PROVIDERS.md`
- Read source: `~/src/ironclaw/src/config/llm.rs`, `~/src/ironclaw/src/llm/`

**Step 1:** Verify all provider configurations still accurate

**Step 2:** Add note that model name is persisted to .env for dotted names (PR #426)

**Step 3:** Verify OpenRouter preset wizard section still accurate (added v0.12.0)

**Step 4:** Commit
```bash
git add LLM_PROVIDERS.md
git commit -m "docs: update LLM_PROVIDERS.md — model name persistence to .env"
```

---

## Task 8: Audit DEVELOPER-REFERENCE.md

**Files:**
- Read: `~/src/ironclaw-docs/DEVELOPER-REFERENCE.md`
- Read source: `~/src/ironclaw/src/cli/tool.rs`, `~/src/ironclaw/src/setup/`

**Step 1:** Add `ironclaw tool setup` command documentation (PR #438)

**Step 2:** Add GitHub setup schema documentation (PR #438)

**Step 3:** Add IRONCLAW_BASE_DIR env var reference (PR #397)

**Step 4:** Add CI matrix and automated QA section (PR #353)

**Step 5:** Commit
```bash
git add DEVELOPER-REFERENCE.md
git commit -m "docs: update DEVELOPER-REFERENCE.md — tool setup command, GitHub schema, CI"
```

---

## Task 9: Audit analysis/*.md files

**Files:**
- Read: `~/src/ironclaw-docs/analysis/tools.md`
- Read: `~/src/ironclaw-docs/analysis/skills-extensions.md`
- Read: `~/src/ironclaw-docs/analysis/worker-orchestrator.md`
- Read: `~/src/ironclaw-docs/analysis/secrets-keychain.md`
- Read: `~/src/ironclaw-docs/analysis/tunnels-pairing.md`
- Read: `~/src/ironclaw-docs/analysis/channels.md`
- Read: `~/src/ironclaw-docs/analysis/config.md`

**Step 1:** tools.md — add web_fetch built-in, add tool setup command

**Step 2:** skills-extensions.md — add OAuth setup UI, display name labels

**Step 3:** worker-orchestrator.md — update routines (all channels), update jobs (DB-backed)

**Step 4:** secrets-keychain.md — add note on lowercase normalization (PR #431)

**Step 5:** tunnels-pairing.md — update Cloudflare (pre-validate token), tailscale (--bg)

**Step 6:** channels.md — add channel activation persistence, WASM host credential injection

**Step 7:** Commit
```bash
git add analysis/
git commit -m "docs: update analysis files to v0.13.0"
```

---

## Task 10: Update version headers and README index

**Files:**
- All `*.md` files with version references

**Step 1:** Global update of v0.12.0 → v0.13.0 version strings in headers

**Step 2:** Update README.md version history table to add v0.13.0 entry

**Step 3:** Update MEMORY.md to reflect new state

**Step 4:** Commit
```bash
git add .
git commit -m "docs: bump all version references to v0.13.0"
```

---

## Task 11: Create GitHub Release

**Step 1:** Verify all docs are accurate and committed

**Step 2:** Tag and push
```bash
git tag v0.13.0
git push origin main --tags
```

**Step 3:** Create GitHub release with changelog summary
